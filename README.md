# UpgradeLens - å‰ç«¯é¡¹ç›®ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§æ£€æµ‹å·¥å…·

## é¡¹ç›®ç®€ä»‹

UpgradeLens æ˜¯ä¸€ä¸ªä¸“ä¸ºå‰ç«¯é¡¹ç›®è®¾è®¡çš„ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§æ£€æµ‹å·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…åœ¨å‡çº§é¡¹ç›®ä¾èµ–æˆ–åˆå§‹æ­å»ºé¡¹ç›®æ—¶ï¼Œæå‰å‘ç°ä¸å…¼å®¹çš„ä¾èµ–ç‰ˆæœ¬å¹¶æä¾›åŒ¹é…çš„ç‰ˆæœ¬å»ºè®®ï¼Œä»è€Œé¿å…å› ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹å¯¼è‡´çš„é¡¹ç›®é—®é¢˜ã€‚

## ä¸»è¦åŠŸèƒ½

- **ä¾èµ–åˆ†æ**: è‡ªåŠ¨è¯»å– package.json å¹¶è·å–æ‰€æœ‰ä¾èµ–çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
- **å…¼å®¹æ€§æ£€æµ‹**: æ£€æŸ¥ä¾èµ–ä¹‹é—´çš„ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œè¯†åˆ«æ½œåœ¨å†²çª
- **å‡çº§åˆ†æ**: åˆ†æå“ªäº›ä¾èµ–å¯ä»¥å®‰å…¨å‡çº§ï¼Œå“ªäº›éœ€è¦è°¨æ…å¤„ç†
- **è¯¦ç»†æŠ¥å‘Š**: ç”Ÿæˆæ¸…æ™°çš„å…¼å®¹æ€§æŠ¥å‘Šï¼ŒåŒ…å«å…·ä½“çš„é—®é¢˜å’Œå»ºè®®
- **äº¤äº’æ¨¡å¼**: æ”¯æŒäº¤äº’å¼é€‰æ‹©è¦æ£€æŸ¥çš„ä¾èµ–ç±»å‹
- **å¤šæ ¼å¼è¾“å‡º**: æ”¯æŒæ§åˆ¶å°è¾“å‡ºå’Œæ–‡ä»¶è¾“å‡ºï¼ˆJSON/Markdownï¼‰
- **æ’ä»¶ç³»ç»Ÿ**: æ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½ï¼Œæä¾›çµæ´»çš„é’©å­æœºåˆ¶

## ç³»ç»Ÿè¦æ±‚

- Node.js >= 14.16.0
- ä½¿ç”¨ESMæ¨¡å—ç³»ç»Ÿ
- æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ESæ¨¡å—ï¼Œå¤„ç†JSONæ–‡ä»¶æ—¶é‡‡ç”¨fsæ¨¡å—è¯»å–è€Œéç›´æ¥å¯¼å…¥

## å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g upgrade-lens

# æˆ–è€…æœ¬åœ°å®‰è£…
npm install upgrade-lens --save-dev
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
# åˆ†æå½“å‰ç›®å½•çš„é¡¹ç›®
npx upgrade-lens

# åˆ†ææŒ‡å®šè·¯å¾„çš„é¡¹ç›®
npx upgrade-lens -p /path/to/your/project

# å¯ç”¨æ·±åº¦åˆ†æ
npx upgrade-lens -d

# äº¤äº’å¼æ¨¡å¼
npx upgrade-lens -i

# è¾“å‡ºåˆ°æ–‡ä»¶
npx upgrade-lens -o report.json
npx upgrade-lens -o report.md
```

### æ’ä»¶ç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰æ’ä»¶
npx upgrade-lens plugin list

# å¯ç”¨/ç¦ç”¨æ’ä»¶
npx upgrade-lens plugin enable react-ecosystem-plugin
npx upgrade-lens plugin disable example-plugin

# é…ç½®æ’ä»¶
npx upgrade-lens plugin config security-audit-plugin

# åˆ›å»ºæ–°æ’ä»¶
npx upgrade-lens plugin create my-custom-plugin

# åˆ é™¤æ’ä»¶
npx upgrade-lens plugin remove old-plugin
```

### å‘½ä»¤è¡Œé€‰é¡¹

### å‘½ä»¤è¡Œé€‰é¡¹

#### ä¸»å‘½ä»¤é€‰é¡¹
- `-p, --path <path>`: æŒ‡å®šé¡¹ç›®è·¯å¾„ï¼ˆé»˜è®¤ï¼šå½“å‰ç›®å½•ï¼‰
- `-d, --deep`: å¯ç”¨æ·±åº¦åˆ†æï¼Œæ£€æŸ¥æ›´å¤šä¾èµ–å…³ç³»
- `-i, --interactive`: äº¤äº’å¼æ¨¡å¼ï¼Œå¯é€‰æ‹©æ£€æŸ¥çš„ä¾èµ–ç±»å‹
- `-o, --output <file>`: å°†æŠ¥å‘Šè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶
- `-h, --help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `-V, --version`: æ˜¾ç¤ºç‰ˆæœ¬å·

#### æ’ä»¶ç®¡ç†å‘½ä»¤
- `plugin list`: åˆ—å‡ºæ‰€æœ‰æ’ä»¶
- `plugin enable <name>`: å¯ç”¨æŒ‡å®šæ’ä»¶
- `plugin disable <name>`: ç¦ç”¨æŒ‡å®šæ’ä»¶
- `plugin config <name>`: é…ç½®æŒ‡å®šæ’ä»¶
- `plugin create <name>`: åˆ›å»ºæ–°æ’ä»¶
- `plugin remove <name>`: åˆ é™¤æŒ‡å®šæ’ä»¶

### ç¤ºä¾‹

```bash
# äº¤äº’å¼åˆ†ææ¨¡å¼
upgrade-lens -i

# ç”ŸæˆæŠ¥å‘Šæ–‡ä»¶
upgrade-lens -o report.md

# æ·±åº¦åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Š
upgrade-lens -d -o report.md
```

## æŠ¥å‘Šç¤ºä¾‹

åˆ†æå®Œæˆåï¼ŒUpgradeLens ä¼šç”Ÿæˆç±»ä¼¼ä¸‹é¢çš„æŠ¥å‘Šï¼š

```
ğŸ“Š ä¾èµ–å…¼å®¹æ€§åˆ†ææŠ¥å‘Š
====================

âœ… å…¼å®¹çš„ä¾èµ–å¯¹: 10
  â€¢ react@17.0.2 å’Œ react-dom@17.0.2
  â€¢ react@17.0.2 å’Œ react-router@5.2.0
  ...

âŒ ä¸å…¼å®¹çš„ä¾èµ–å¯¹: 2
  â€¢ react@17.0.2 å’Œ react-router@6.0.0
    åŸå› : react-router 6.0.0 éœ€è¦ react@>=16.8ï¼Œä½†å½“å‰ç‰ˆæœ¬æ˜¯ 17.0.2
    æ¨èç‰ˆæœ¬:
      - react: 17.0.2
      - react-router: 5.3.0
  ...

ğŸ”„ ä¾èµ–å‡çº§åˆ†æ
==============

âœ… å¯ä»¥å®‰å…¨å‡çº§çš„ä¾èµ–: 5
  â€¢ axios: 0.21.1 â†’ 0.24.0
  â€¢ lodash: 4.17.20 â†’ 4.17.21
  ...

âš ï¸ å‡çº§å¯èƒ½å¯¼è‡´é—®é¢˜çš„ä¾èµ–: 2
  â€¢ react-router: 5.2.0 â†’ 6.0.0
    å¯èƒ½çš„é—®é¢˜:
      - ä¸ react-router-dom ä¸å…¼å®¹: react-router 6.0.0 éœ€è¦ react-router-dom 6.0.0
  ...

ğŸ’¡ ç‰ˆæœ¬å…¼å®¹æ€§å»ºè®®
==============

react-router çš„æ¨èç‰ˆæœ¬:
  â€¢ ç‰ˆæœ¬ 5.3.0 å…¼å®¹: react, react-router-dom
```

## æ’ä»¶ç³»ç»Ÿ

UpgradeLens æä¾›äº†å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿï¼Œå…è®¸å¼€å‘è€…æ‰©å±•å·¥å…·çš„åŠŸèƒ½ã€‚

### å†…ç½®æ’ä»¶

1. **Reactç”Ÿæ€ç³»ç»Ÿæ’ä»¶** (`react-ecosystem-plugin`)
   - æ£€æµ‹Reactå’ŒReact DOMç‰ˆæœ¬åŒ¹é…
   - React Routerç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥
   - TypeScriptç±»å‹å®šä¹‰ç‰ˆæœ¬åŒ¹é…

2. **å®‰å…¨å®¡è®¡æ’ä»¶** (`security-audit-plugin`)
   - æ£€æµ‹å·²çŸ¥å®‰å…¨æ¼æ´
   - è¯†åˆ«è¿‡æ—¶çš„ä¾èµ–åŒ…
   - æä¾›å®‰å…¨é£é™©è¯„ä¼°

3. **ç¤ºä¾‹æ’ä»¶** (`example-plugin`)
   - æ¼”ç¤ºæ’ä»¶å¼€å‘æ¨¡å¼
   - æä¾›å¼€å‘å‚è€ƒ

### æ’ä»¶å¼€å‘

è¯¦ç»†çš„æ’ä»¶å¼€å‘æŒ‡å—è¯·å‚è€ƒ [æ’ä»¶ç³»ç»Ÿæ–‡æ¡£](./docs/plugin-system.md)ã€‚

## åç»­ä¼˜åŒ–æ–¹å‘

1. **ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜npmåŒ…ä¿¡æ¯ï¼Œæé«˜é‡å¤åˆ†æçš„é€Ÿåº¦
2. **å¹¶å‘ä¼˜åŒ–**ï¼šå¹¶è¡Œè·å–åŒ…ä¿¡æ¯ï¼Œæå‡åˆ†ææ•ˆç‡
3. **æ›´æ™ºèƒ½çš„å…¼å®¹æ€§æ£€æµ‹**ï¼šåŸºäºè¯­ä¹‰åŒ–ç‰ˆæœ¬å’Œå®é™…ä½¿ç”¨æƒ…å†µçš„æ™ºèƒ½åˆ†æ
4. **Webç•Œé¢**ï¼šæä¾›å¯è§†åŒ–çš„Webç•Œé¢è¿›è¡Œä¾èµ–ç®¡ç†
5. **CI/CDé›†æˆ**ï¼šæ”¯æŒåœ¨æŒç»­é›†æˆä¸­è‡ªåŠ¨æ£€æµ‹ä¾èµ–å…¼å®¹æ€§
6. ~~**æ’ä»¶ç³»ç»Ÿ**ï¼šæ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½~~ âœ… **å·²å®Œæˆ**
7. **å¤šåŒ…ç®¡ç†å™¨æ”¯æŒ**ï¼šæ”¯æŒyarnã€pnpmç­‰å…¶ä»–åŒ…ç®¡ç†å™¨
8. **ä¾èµ–å›¾å¯è§†åŒ–**ï¼šç”Ÿæˆä¾èµ–å…³ç³»å›¾è¡¨
9. ~~**å®‰å…¨æ¼æ´æ£€æµ‹**ï¼šé›†æˆå®‰å…¨æ¼æ´æ•°æ®åº“~~ âœ… **å·²é€šè¿‡æ’ä»¶å®ç°**
10. **è‡ªåŠ¨ä¿®å¤å»ºè®®**ï¼šæä¾›è‡ªåŠ¨åŒ–çš„ä¾èµ–å‡çº§æ–¹æ¡ˆ

## è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚ï¼å¦‚æœæ‚¨æƒ³è´¡çŒ®ä»£ç ï¼Œè¯·å…ˆåˆ›å»ºä¸€ä¸ª issue è®¨è®ºæ‚¨æƒ³è¦æ›´æ”¹çš„å†…å®¹ã€‚

## è®¸å¯è¯

[MIT](LICENSE)